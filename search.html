<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Search Records</title>
    <link rel="stylesheet" href="search.css">
</head>
<body>

    <div class="search-bar">
        <input type="text" id="searchInput" placeholder="Search...">
    </div>

    <div class="records" id="recordsContainer">
        <!-- records inserted here -->
    </div>

    <div class="home-btn">
        <a href="index.html">home</a>
    </div>

<script>
const recordsContainer = document.getElementById("recordsContainer");
const searchInput = document.getElementById("searchInput");

let records = JSON.parse(localStorage.getItem("records")) || [];

function displayRecords(list) {
    recordsContainer.innerHTML = "";        

    if (list.length === 0) {
        recordsContainer.innerHTML = "<p style='color:white'>No records found</p>";
        return;
    }

    list.forEach((r, i) => {
        const div = document.createElement("div");
        div.className = "record";
        div.innerHTML = `
            <h2>Record ${i + 1}</h2>
            <p>${r.tajuk}</p>
            <p>${r.pemaju}</p>
            <p>${r.nofail}</p>
            <p>${r.taman}</p>
        `;
        recordsContainer.appendChild(div);
    });
}

displayRecords(records);

// SEARCH FILTER
searchInput.addEventListener("input", () => {
    const value = searchInput.value.toLowerCase();
    const filtered = records.filter(r =>
        r.tajuk.toLowerCase().includes(value) ||
        r.pemaju.toLowerCase().includes(value) ||
        r.nofail.toLowerCase().includes(value) ||
        r.taman.toLowerCase().includes(value)
    );
    displayRecords(filtered);
});
</script>

</body>
</html>
